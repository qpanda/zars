<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.prime.com.tr/ui" xmlns:util="http://java.sun.com/jsf/composite/components/util" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://java.sun.com/jsf/html		../../WEB-INF/schema/html_basic-2.0.2.xsd
						http://java.sun.com/jsf/core		../../WEB-INF/schema/jsf_core-2.0.2.xsd
						http://java.sun.com/jsf/facelets	../../WEB-INF/schema/facelets-ui-2.0.xsd
						http://primefaces.prime.com.tr/ui	../../WEB-INF/schema/primefaces-p-2.1.xsd">	
	<div class="applicationDialog">
		<h:form id="editUserForm" styleClass="applicationForm">
			<div class="applicationFormTitle">#{displayMessages.sectionsApplicationEditUserDialogLabel}</div>
			<f:subview id="editUserView" rendered="#{editUserController.validNavigation}">
				<div class="applicationFormItem">		
					<h:outputLabel for="userId" styleClass="applicationFormLabel" value="#{displayMessages.sectionsApplicationUserUserIdLabel}" /><br />
					<h:inputText id="userId" styleClass="applicationFormValue" value="#{editUserController.userId}" onfocus="this.readOnly=true;" onblur="this.readOnly=false;" size="5" />
					<p:message for="userId" />
				</div>
				<div class="applicationFormItem">		
					<h:outputLabel for="username" styleClass="applicationFormLabel" value="#{displayMessages.sectionsApplicationUserUsernameLabel}" /><br />
					<h:inputText id="username" styleClass="applicationFormInput" value="#{editUserController.username}" size="25" />
					<p:message for="username" />
				</div>
				<div class="applicationFormItem">
					<h:outputLabel for="emailAddress" styleClass="applicationFormLabel" value="#{displayMessages.sectionsApplicationUserEmailAddressLabel}" /><br />
					<h:inputText id="emailAddress" styleClass="applicationFormInput" value="#{editUserController.emailAddress}" size="35" />
					<p:message for="emailAddress"/>
				</div>
				<div class="applicationFormItem">		
					<h:outputLabel for="firstName" styleClass="applicationFormLabelOptional" value="#{displayMessages.sectionsApplicationUserFirstNameLabel}" /><br />
					<h:inputText id="firstName" styleClass="applicationFormInput" value="#{editUserController.firstName}" size="35" />
					<p:message for="firstName"/>
				</div>
				<div class="applicationFormItem">		
					<h:outputLabel for="lastName" styleClass="applicationFormLabelOptional" value="#{displayMessages.sectionsApplicationUserLastNameLabel}" /><br />
					<h:inputText id="lastName" styleClass="applicationFormInput" value="#{editUserController.lastName}" size="35"/>
					<p:message for="lastName"/>
				</div>
				<div class="applicationFormSeparator"/>
				<div class="applicationFormItem">
					<h:outputLabel for="roles" styleClass="applicationFormLabel" value="#{displayMessages.sectionsApplicationUserRolesLabel}" />
					<p:message for="roles"/>
					<br />
					<h:selectManyCheckbox id="roles" styleClass="applicationFormSelection" value="#{editUserController.selectedRoleIds}" converter="javax.faces.Long" required="true" requiredMessage="#{validationMessages.sectionsApplicationUserRolesError}">
						<f:selectItems value="#{editUserController.availableRoles}" var="role" itemLabel="#{enumMessages[role.name]}" itemValue="#{role.roleId}"/>
					</h:selectManyCheckbox>			
				</div>
				<div class="applicationFormSeparator"/>
				<div class="applicationFormItem">
					<h:outputLabel for="localePreference" styleClass="applicationFormLabel" value="#{displayMessages.sectionsApplicationUserLocalePreferenceLabel}" /><br />
					<h:selectOneMenu id="localePreference" styleClass="applicationFormInput" value="#{editUserController.selectedLocaleDisplayName}" required="true" requiredMessage="#{validationMessages.sectionsApplicationUserLocalePreferenceError}">
						<f:selectItems value="#{editUserController.supportedLocales}" var="locale" itemLabel="#{locale.label}" itemValue="#{locale.value}"/>
					</h:selectOneMenu>
					<p:message for="localePreference" />
				</div>						
				<div class="applicationFormItem">
					<h:outputLabel for="timezonePreference" styleClass="applicationFormLabel" value="#{displayMessages.sectionsApplicationUserTimezonePreferenceLabel}" /><br />
					<h:selectOneMenu id="timezonePreference" styleClass="applicationFormInput" value="#{editUserController.selectedTimezoneId}" required="true" requiredMessage="#{validationMessages.sectionsApplicationUserTimezonePreferenceError}">
						<f:selectItems value="#{editUserController.availableTimezones}" var="timezone" itemLabel="#{timezone.label}" itemValue="#{timezone.value}"/>
					</h:selectOneMenu>
					<p:message for="timezonePreference" />
				</div>						
				<div class="applicationFormItem">
					<h:commandButton id="editUserAction" type="submit" action="#{editUserController.update}" styleClass="applicationFormButton" value="#{displayMessages.sectionsApplicationEditUserUpdateButton}"/>
				</div>
			</f:subview>
		</h:form>
	</div>
	<p:messages globalOnly="false" redisplay="false"/>
</ui:composition>